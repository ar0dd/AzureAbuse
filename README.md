# La lista de Microsoft Cloud Abuse (MCA)
A collection of links/tools that aid in Microsoft Cloud recon/exploitation/etc. Contributions are welcome!

- Disclaimer: affiliate link. If you're really looking to tailor your security journey into Azure, I highly recommend the **first** book on the topic by some of the best. [Penetration Testing Azure for Ethical Hackers](https://amzn.to/3gcolQA). - Karl Fosaaen & David Okeyode

## Getting Started Links
[Intro for "Red Teamers"](https://www.synacktiv.com/en/publications/azure-ad-introduction-for-red-teamers.html) - Aymeric Palhi√®re

[Check out all of David Okeyode Blog posts :)](https://davidokeyode.medium.com/) - David Okeyode

[Anything here is a must](https://o365blog.com/) - @DrAzureAD

## Phishing Frameworks
[Evilginx2](https://github.com/kgretzky/evilginx2) - @kgretzky

[Phish using Azure Enterprise App](https://github.com/AlteredSecurity/365-Stealer) - AlteredSecurity

## All-in-One Tools

[MicroBurst](https://github.com/NetSPI/MicroBurst) - NetSPI

[RoadTools](https://github.com/dirkjanm/ROADtools) - @dirkjanm

[PowerZure](https://github.com/hausec/PowerZure) - Ryan Hausknecht (@haus3c)

## Azure <-> Devices or On-Prem AD

[Hybrid Security Talk  RSA 2021](https://www.youtube.com/watch?v=GILkob8XZ6E) - Mandiant Team

[Azure AD Connect](https://blog.xpnsec.com/azuread-connect-for-redteam/) - Adam Chester (@xpnsec)

[Abusing Azure AD SSO](https://dirkjanm.io/abusing-azure-ad-sso-with-the-primary-refresh-token/) - @dirkjanm

[Requesting Azure AD Request Tokens on Azure-AD-joined Machines for Browser SSO](https://posts.specterops.io/requesting-azure-ad-request-tokens-on-azure-ad-joined-machines-for-browser-sso-2b0409caad30) - @tifkin_

(PATCHED?) [Extracting Primary Refresh Token for later use](https://dirkjanm.io/digging-further-into-the-primary-refresh-token/) - @dirkjan/@gentilkiwi 

## Enumeration (unauth and auth)

[Stormspotter](https://github.com/Azure/Stormspotter) - Azure Red Team

[Azurehound](https://bloodhound.readthedocs.io/en/latest/data-collection/azurehound.html) - Bloodhound Folks

[SkyArk](https://github.com/cyberark/SkyArk) - CyberArk 

[o365enum](https://github.com/gremwell/o365enum) - @remwell 

[MFASweep](https://github.com/dafthack/MFASweep) - @dafthack

## Password Spraying
[MSOLSpray](https://github.com/MartinIngesen/MSOLSpray) - @Dafthack(PowerShell Implementation) & @MartinIngesen(Python Implementation)

## Privilege Escalation

[Azure Dynamic groups](https://www.mnemonic.no/blog/abusing-dynamic-groups-in-azure/) - Cody Burkard, Senior Security Consultant, mnemonic]

[Reseting Passwords?](https://docs.microsoft.com/en-us/azure/active-directory/roles/permissions-reference#password-reset-permissions) - Bloodhound Gang 

[Azure Privilege Escalation via Service Principal Abuse](https://posts.specterops.io/azure-privilege-escalation-via-service-principal-abuse-210ae2be2a5) - @wald0

[Azure Privilege Escalation via Azure API Permissions Abuse](https://posts.specterops.io/azure-privilege-escalation-via-azure-api-permissions-abuse-74aee1006f48) - @wald0

## Persistence

[Azure Policy Guest Configuration](https://cloudbrothers.info/en/azure-persistence-azure-policy-guest-configuration/) - Fabian Bader

[Persistence via Automation Accounts](https://blog.netspi.com/maintaining-azure-persistence-via-automation-accounts/) - Karl Fosaaen

[Persistence via Desired State Configuration](https://www.netspi.com/blog/technical/cloud-penetration-testing/azure-persistence-with-desired-state-configurations/) - Jake Karnes

## Can't quite find a place for it

[10 ways of gaining control over Azure function Apps](10 ways of gaining control over Azure function Apps) - Bill Ben Haim & Zur Ulianitzky 

## Defenders!

[Azure Policy Initiatives](https://github.com/salesforce/cloud-guardrails#cloud-guardrails) - Salesforce 

[Multi-Cloud Security Auditing Tool](https://github.com/nccgroup/ScoutSuite) - NCC Group

[Azure Auditing via PowerShell](https://github.com/nccgroup/azucar/) - NCC Group

[Assess Azure Security Controls](https://cloud-katana.com/intro.html) - Azure @Cyb3rWard0g

<details>
<summary>*** Cool Resources***</summary>
<br>
- https://syfuhs.net/how-azure-ad-kerberos-works
</details>
